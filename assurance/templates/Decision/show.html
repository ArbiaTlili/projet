{% extends "base1.html" %}
{% load static %}
{% block title %} {% endblock %}
{% block content %}
<div  class="container">
  <!-- Content here -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round|Open+Sans">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
 {% for message in messages %}
      <div class="alert alert-{{ message.tags }}" role="alert">
          <p>{{ message }}</p>
      </div>
      {% endfor %}
<table class="table table-striped table-bordered table-sm">  
    <thead class="thead-dark">  
    <tr>  
       
        <th> Num_souscription_credit</th>  
        <th>Num_dossierCredit </th>  
        <th>code_produit</th>  
        <th>montant_assurance</th> 
        <th>etat_souscription_credit </th>
        <th>Actions</th>
    </tr>  
    </thead>  
    <tbody>  
{% for Souscriptiondecredit in Souscriptiondecredits %}  
    <tr>  
       
        <td>{{ Souscriptiondecredit.Num_souscription_credit }}</td>  
        <td>{{ Souscriptiondecredit.Num_dossierCredit }}</td>  
        <td>{{ Souscriptiondecredit.code_produit }}</td> 
        <td>{{ Souscriptiondecredit.montant_assurance }}</td> 
        <td>{{ Souscriptiondecredit.etat_sous_credit }}</td> 
        
        <td>    
            <a href="/assurance/decision/edit/{{ Souscriptiondecredit.Num_souscription_credit }}"class="btn btn-warning waves-effect"><i class="bi bi-pencil-square"></i></a>  
        </td>  
        <td id="target1">    
            <button value={{ Souscriptiondecredit.Num_souscription_credit }} id="at" class="btn btn-warning waves-effect"><i class="bi bi-pencil"></i></button>  
        </td>  
        <td id="target">    
            <button value={{ Souscriptiondecredit.Num_souscription_credit }} id="valide" class="btn btn-warning waves-effect"><i class="bi bi-box"></i></button>  
        </td>  
    </tr>  
{% endfor %}  
    </tbody>  
</table>  
<br>  
<br>  
<center><a href="/assurance/Souscriptioncredit" class="btn btn-primary"<button type="button" class="btn btn-info add-new"><i class="fa fa-plus">Add New</i></button></a></center>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" ></script>
<script>
$( "#target" ).click(function() {
  alert( "Handler for .click() called." );
});
</script>
<script >
$('#at').on('click', function(){
    alert ("aa")
              $.ajax({
             url: '/assurance/decision/update1',
             method : 'POST',
             data: $('#at').val().serialize(),
             beforeSend: function() {
              // things to do before submit
             },
             success: function(response) {

              alert("done")
              }
              });
  return false;

});
</script>
<script >
$('#valide').click( function(){
      alert ("aa")
              $.ajax({
             url: '/assurance/decision/update1',
             method : 'POST',
             data: $('#valide').val().serialize(),
             beforeSend: function() {
              // things to do before submit
             },
             success: function(response) {

              alert(response)
              }
              });
  return false;

});
</script>
{% endblock %}